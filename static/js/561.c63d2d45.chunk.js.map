{"version":3,"file":"static/js/561.c63d2d45.chunk.js","mappings":"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","sources":["components/ExpensesForm/ExpensesForm.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport {\n  addTransaction,\n  // getAllTransactions //!\n} from '../../redux/transaction/transactionOperations';\nimport { selectBalance } from '../../redux/auth/authSelectors';\nimport * as Yup from 'yup';\nimport moment from 'moment';\nimport { Formik, ErrorMessage } from 'formik';\nimport useScreenResizing from '../../hooks/useScreenResizing';\nimport { CustomSelect } from '../CustomSelect/CustomSelect';\nimport { DataBox } from '../DataBox/DataBox';\nimport { Loader } from '../Loader/Loader';\nimport { nanoid } from 'nanoid';\nimport {\n  InputField,\n  FormBox,\n  DataWrapper,\n  FormInputWrapper,\n  SecondaryInputWrapper,\n  CalculatorIcon,\n  TextSecondary,\n  BtnSubmitList,\n  BtnSubmitItem,\n  BtnSubmit,\n  BtnSecondary,\n  InputsBox,\n  FormTopWrapper,\n  IconWrapper,\n  ErrorNotification,\n  ErrorMessageWrapper,\n} from './ExpensesForm.styled';\n\nconst options = [\n  { key: nanoid(), value: 'Transport', label: 'Transport' },\n  { key: nanoid(), value: 'Products', label: 'Products' },\n  { key: nanoid(), value: 'Health', label: 'Health' },\n  { key: nanoid(), value: 'Alcohol', label: 'Alcohol' },\n  { key: nanoid(), value: 'Entertainment', label: 'Entertainment' },\n  { key: nanoid(), value: 'Housing', label: 'Housing' },\n  { key: nanoid(), value: 'Technique', label: 'Technique' },\n  {\n    key: nanoid(),\n    value: 'Communal, communication',\n    label: 'Communal, communication',\n  },\n  { key: nanoid(), value: 'Sports, hobbies', label: 'Sports, hobbies' },\n  { key: nanoid(), value: 'Education', label: 'Education' },\n  { key: nanoid(), value: 'Other', label: 'Others' },\n];\n\nconst initialValues = {\n  category: '',\n  description: '',\n  sum: '',\n};\n\nconst FormError = ({ name }) => {\n  return (\n    <ErrorMessage\n      name={name}\n      render={message => <ErrorNotification>{message}</ErrorNotification>}\n    />\n  );\n};\n\nconst ExpensesForm = () => {\n  const viewPort = useScreenResizing();\n  const dispatch = useDispatch();\n  const currentBalance = useSelector(selectBalance);\n  const date = moment().format('DD.MM.YYYY');\n\n  const schema = Yup.object().shape({\n    category: Yup.string().required('Select category'),\n    description: Yup.string()\n      .min(3)\n      .max(20)\n      .required('Enter product description'),\n    sum: Yup.number('Invalid sum, only numbers')\n      .positive('Only positive value')\n      .max(currentBalance, \"Expenses can't exceed your current balance\")\n      .required('Enter sum'),\n  });\n\n  // const getFormData = values => {\n  //   console.log('getFormData::', values);\n  // };\n\n  return (\n    <>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={schema}\n        onSubmit={(values, { resetForm }) => {\n          dispatch(\n            addTransaction({\n              ...values,\n              transactionsType: 'expenses',\n              date,\n            })\n          );\n          // dispatch(getAllTransactions()); //!\n          resetForm();\n        }}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange,\n          handleSubmit,\n          isSubmitting,\n          setFieldValue,\n          resetForm,\n        }) => {\n          return (\n            <FormBox onSubmit={handleSubmit}>\n              <FormTopWrapper>\n                <DataWrapper>\n                  <DataBox date={date} />\n                </DataWrapper>\n                <InputsBox>\n                  <FormInputWrapper>\n                    <InputField\n                      as=\"input\"\n                      type=\"text\"\n                      id=\"description\"\n                      name=\"description\"\n                      placeholder=\"Product description\"\n                      onChange={handleChange}\n                      value={values.description}\n                    />\n                    <CustomSelect\n                      id=\"category\"\n                      name=\"category\"\n                      options={options}\n                      value={values.category}\n                      type=\"Product category\"\n                      disabled={isSubmitting}\n                      isLoading={isSubmitting}\n                      onChange={values =>\n                        setFieldValue('category', values.value)\n                      }\n                    ></CustomSelect>\n                  </FormInputWrapper>\n                  <SecondaryInputWrapper>\n                    <div>\n                      <TextSecondary\n                        as=\"input\"\n                        type=\"number\"\n                        id=\"sum\"\n                        name=\"sum\"\n                        pattern=\"^(([0-9]*)|(([0-9]*)\\.([0-9]*)))$\"\n                        title=\"Sum must be whole numbers (or decimal numbers)\"\n                        placeholder={\n                          viewPort.width > 767 ? '00.00' : '00.00UAH'\n                        }\n                        onChange={handleChange}\n                        value={values.sum}\n                      />\n                      <ErrorMessageWrapper>\n                        {errors.description && touched.description ? (\n                          <FormError name=\"description\" component=\"p\" />\n                        ) : errors.category && touched.category ? (\n                          <FormError name=\"category\" component=\"p\" />\n                        ) : errors.sum && touched.sum ? (\n                          <FormError name=\"sum\" component=\"p\" />\n                        ) : null}\n                      </ErrorMessageWrapper>\n                    </div>\n                    <IconWrapper>\n                      <CalculatorIcon />\n                    </IconWrapper>\n                  </SecondaryInputWrapper>\n                </InputsBox>\n              </FormTopWrapper>\n              {isSubmitting ? (\n                <Loader />\n              ) : (\n                <BtnSubmitList>\n                  <BtnSubmitItem>\n                    <BtnSubmit type=\"submit\" disabled={isSubmitting}>\n                      Input\n                    </BtnSubmit>\n                  </BtnSubmitItem>\n                  <BtnSubmitItem>\n                    <BtnSecondary\n                      type=\"reset\"\n                      onClick={resetForm}\n                      disabled={isSubmitting}\n                    >\n                      Clear\n                    </BtnSecondary>\n                  </BtnSubmitItem>\n                </BtnSubmitList>\n              )}\n            </FormBox>\n          );\n        }}\n      </Formik>\n    </>\n  );\n};\n\nexport default ExpensesForm;\n"],"names":["options","key","nanoid","value","label","initialValues","category","description","sum","FormError","name","render","message","viewPort","useScreenResizing","dispatch","useDispatch","currentBalance","useSelector","selectBalance","date","moment","format","schema","Yup","shape","required","min","max","positive","validationSchema","onSubmit","values","resetForm","addTransaction","transactionsType","errors","touched","handleChange","handleSubmit","isSubmitting","setFieldValue","as","type","id","placeholder","onChange","disabled","isLoading","pattern","title","width","component","onClick"],"sourceRoot":""}